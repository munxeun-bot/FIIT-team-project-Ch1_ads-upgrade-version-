# core/ch1/prompts.py

def build_ads_prompt(
    purpose: str,
    product: str,
    menu_name: str,
    menu_desc: str,
    tone: str,
    platform: str,
    image_summary: str,
    n: int,
) -> str:
    """
    광고 생성 프롬프트
    - 텍스트 기반 목적형 광고
    - 이미지 분석 기반 문구 생성
    - 플랫폼별 스타일
    """

    # 홍보 목적 규칙
    purpose_rules = {
        "신메뉴 출시": "- 신선함·풍미·재료 강조 + 첫 맛 강조",
        "단골 고객 이벤트": "- 혜택·감사 인사·따뜻한 문체 + 재방문 유도",
        "1+1 이벤트": "- 강한 혜택 강조(1+1·오늘만·친구와 함께)",
        "시즌 메뉴": "- 계절 감성(봄 상큼·여름 청량·가을 고소·겨울 포근)",
        "시간대별 추천": "- 아침 상쾌·점심 리프레시·오후 피로회복·밤 힐링",
        "한정 수량 판매": "- 희소성·긴박감 강조(얼리버드·매진 경고 등)",
        "매장 분위기 강조": "- 포토존·감성 인테리어·작업하기 좋은 공간 강조",
    }
    purpose_rule = purpose_rules.get(purpose, "- 목적에 맞게 자연스럽게 작성")

    # 홍보 플랫폼 규칙
    platform_rules = {
        "instagram": "- 감성·짧은 문장·이모지·마지막 해시태그 3~7개",
        "blog": "- 설명형·정보 중심·스토리텔링·해시태그 없음",
        "youtube_script": "- 말하는 톤·Hook → Body → Outro 흐름",
    }
    platform_rule = platform_rules.get(platform, "- 플랫폼 스타일 적용")

    return f"""

너는 카페 전문 광고 카피라이터다.

[입력 정보]
- 제품/서비스: {product}
- 메뉴 이름: {menu_name}
- 메뉴 설명: {menu_desc}
- 이미지 요약 정보: {image_summary}
- 톤/스타일: {tone}
- 홍보 목적: {purpose}
- 플랫폼: {platform}
- 생성 개수: {n}

[목적 규칙]
{purpose_rule}

[플랫폼 규칙]
{platform_rule}

[공통 카피 규칙]
- 한국어로 작성
- 메뉴 특징, 광고 톤, 홍보 목적, 이미지 분위기에 맞는 자연스러운 문장 구성
- 이모지는 플랫폼에 따라 적절히 사용 (Instagram은 허용, Blog는 최소화, Youtube는 선택적)

[플랫폼별 문장 길이 규칙]
1) Instagram(인스타그램)
- 1~2문장, 짧고 감성적인 문장 중심
- 감각적인 단어, 이모지 활용 가능
- 마지막 줄에 3~4개의 자연스러운 해시태그 포함
2)Blog(블로그)
- 3~5문장으로 구성된 짧은 단락 형태
- 자연스러운 설명, 상황 묘사, 사용 경험, 감성 스토리텔링
- 해시태그는 포함하지 않음
- 이모지 사용 최소화
3) Youtube Script(유튜브 숏폼/영상)
- Hook → Body → Outro 구조
- 총 2~4문장 길이, 말하듯이 자연스러운 구어체
- 리듬감 있는 짧은 문장 중심
- CTA는 Outro에만 포함

[CTA 생성 규칙]
- CTA(Call-To-Action)는 메뉴 특징, 광고 톤, 홍보 목적, 매장 분위기를 종합하여
  가장 자연스럽고 상황에 맞게 생성한다.
- CTA 유형 예시:
  • 방문 유도형: “잠시 들러보세요”, “매장 분위기 즐기러 오세요”
  • 감성형: “오늘의 감성을 한 잔에 담아가세요”
  • 휴식형: “지친 하루에 작은 여유를 더해보세요”
  • 포토존 강조형: “사진 찍기 좋은 순간, 놓치지 마세요”
  • 프로모션형: “1+1 혜택은 오늘만!”, “지금 주문하고 특별 혜택 받기”
  • 단골형: “오늘도 반가운 얼굴 기다리고 있어요”
- CTA는 문장 하나로 구성하며 자연스럽고 친근한 구어체를 사용한다.


[출력 형식]
반드시 JSON만 출력:
{{
  "items": ["문구1", "문구2", ...]
}}
"""
